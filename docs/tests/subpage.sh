PORT=8082; BASE=http://localhost:$PORT; 
# Load child
curl -s -X POST $BASE/api/cpn/load -H 'Content-Type: application/json' -d '{"id":"child-cpn-api","name":"Child","colorSets":["colset INT = int;"],"places":[{"id":"c_in","name":"CIn","colorSet":"INT"},{"id":"c_out","name":"COut","colorSet":"INT"}],"transitions":[{"id":"t_child","name":"Child","kind":"Auto","actionExpression":"y = x * 2"}],"arcs":[{"id":"ac_in","sourceId":"c_in","targetId":"t_child","expression":"x","direction":"IN"},{"id":"ac_out","sourceId":"t_child","targetId":"c_out","expression":"y","direction":"OUT"}],"initialMarking":{"c_in":[{"value":5,"timestamp":0}]},"endPlaces":["c_out"]}' | jq '.success'; 
# Load parent
curl -s -X POST $BASE/api/cpn/load -H 'Content-Type: application/json' -d '{"id":"parent-cpn-api","name":"Parent","colorSets":["colset INT = int;"],"places":[{"id":"p_start","name":"Start","colorSet":"INT"},{"id":"p_wait","name":"Wait","colorSet":"INT"}],"transitions":[{"id":"t_call","name":"Call","kind":"Manual"}],"arcs":[{"id":"ap_in","sourceId":"p_start","targetId":"t_call","expression":"a","direction":"IN"},{"id":"ap_out","sourceId":"t_call","targetId":"p_wait","expression":"b","direction":"OUT"}],"initialMarking":{"p_start":[{"value":5,"timestamp":0}]},"endPlaces":["p_wait"],"subWorkflows":[{"id":"sw1","cpnId":"child-cpn-api","callTransitionId":"t_call","autoStart":true,"propagateOnComplete":true,"inputMapping":{"x":"a"},"outputMapping":{"y":"b"}}]}' | jq '.success'; 
# Fire call transition
curl -s -X POST $BASE/api/transitions/fire -H 'Content-Type: application/json' -d '{"cpnId":"parent-cpn-api","transitionId":"t_call","bindingIndex":0}' | jq '.data.places.p_wait';